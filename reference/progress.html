<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Display progression of a long calculation at the R console and/or in a GUI — progress • svMisc</title>

<!-- favicons -->
<link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png" />
<link rel="apple-touch-icon" type="image/png" sizes="152x152" href="../apple-touch-icon-152x152.png" />
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png" />
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png" />
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png" />

<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>



<!-- Bootstrap -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.1/css/all.min.css" integrity="sha256-PbSmjxuVAzJ6FPvNYsrXygfGhNJYyZ2GktDbkMBqQZg=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.1/css/v4-shims.min.css" integrity="sha256-A6jcAdwFD48VMjlI3GDxUd+eCQa7/KWy6G9oe/ovaPA=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/headroom.min.js" integrity="sha256-DJFC1kqIhelURkuza0AvYal5RxMtpzLjFhsnVIeuk+U=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>


<!-- svPkgdown -->
<script src="../script.js"></script>

<!-- themify icon -->
<link rel="stylesheet" href="../themify-icons.css?nocache=123">
<!--<link rel="stylesheet" href="../style.css?nocache=123">-->

<!-- bootstrat v4.1.1, required CSS from more recent version -->
<link rel="stylesheet" href="../bootstrap.more.css?nocache=123">

<link href="../style.css?nocache=123" rel="stylesheet">
<!-- end of addition for svPkgdown -->


<meta property="og:title" content="Display progression of a long calculation at the R console and/or in a GUI — progress" />
<meta property="og:description" content="Display progression level of a long-running task in the console.
Two mode can be used: either percent of achievement (55\
items or steps done on a total (1 file on 10 done...). This is displayed
either through a message, or through a text-based &quot;progression bar&quot; on the
console, or a true progression bar widget in a GUI." />
<meta name="twitter:card" content="summary" />






<!-- Mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.6/MathJax.js" async integrity="sha256-nlrDrBTHxJJlDDX22AS33xYI1OJHnGMDhiYMSe2U0e0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.6/config/TeX-AMS-MML_HTMLorMML.js" async integrity="sha256-4zys9A4hMQmtq2EUL+JRoXc0NZi8jVJMzb8onewOaSQ=" crossorigin="anonymous"></script>



<!-- Global site tag (gtag.js) - Google Analytics -->
<!--<script async src="https://www.googletagmanager.com/gtag/js?id=UA-462421-8"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-462421-8');
</script>-->

  

  

  </head>

  <body data-spy="scroll" data-target="#toc">
    

    <div class="container template-reference-topic">
      <header>
      <!-- preloader start -->
<div class="preloader">
  <img src="../preloader.gif" alt="loading...">
</div>
<!-- preloader end -->

<div class="navbar navbar-default navbar-fixed-top bg-secondary" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <div class="navbar-brand-container">
       <div class="navbar-brand-logo">
         <a class="navbar-brand" href="https://www.sciviews.org">
          <img src="../logo_full.png" alt="SciViews">
         </a>
       </div>
       <div class="navbar-brand-package">
      </div>
      </div>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <!-- start svPkgdown global site search with Google -->
      <form action="https://www.google.com/search" class="navbar-form navbar-right search-form-global">
        <div class="form-group has-search">
          <span class="fa fa-search form-control-feedback-global"></span>
          <input type="text" class="form-control-global search-form-input" name="q" id="q"
            placeholder="Search..." required>
          <input type="hidden" name="sitesearch" value="https://www.sciviews.org" />
        </div>
      </form>
      <!-- end svPkgdown global site search with Google -->
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="../articles/svMisc.html">Get started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/temporary_environment.html">Temporary environment</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
        <li>
  <a href="https://github.com/SciViews/svMisc/">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
      <div class="navbar-title">
        <a class="navbar-brand" href="../index.html"><p class = "h2">svMisc <small>v1.2.0</small></p></a>
      </div>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
  <div class="navbar-spacer bg-light">
  </div>
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Display progression of a long calculation at the R console and/or in a GUI</h1>
    <small class="dont-index">Source: <a href='https://github.com/SciViews/svMisc/blob/master/R/progress.R'><code>R/progress.R</code></a></small>
    <div class="hidden name"><code>progress.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Display progression level of a long-running task in the console.
Two mode can be used: either percent of achievement (55\<!-- %), or the number of -->
items or steps done on a total (1 file on 10 done...). This is displayed
either through a message, or through a text-based "progression bar" on the
console, or a true progression bar widget in a GUI.</p>
    </div>

    <pre class="usage"><span class='fu'>progress</span><span class='op'>(</span>
  <span class='va'>value</span>,
  max.value <span class='op'>=</span> <span class='cn'>NULL</span>,
  progress.bar <span class='op'>=</span> <span class='cn'>FALSE</span>,
  char <span class='op'>=</span> <span class='st'>"|"</span>,
  init <span class='op'>=</span> <span class='op'>(</span><span class='va'>value</span> <span class='op'>==</span> <span class='fl'>0</span><span class='op'>)</span>,
  console <span class='op'>=</span> <span class='cn'>TRUE</span>,
  gui <span class='op'>=</span> <span class='cn'>TRUE</span>
<span class='op'>)</span></pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>value</th>
      <td><p>Current value of the progression (use a value higher than
<code>max.value</code> to dismiss the progression indication automatically.</p></td>
    </tr>
    <tr>
      <th>max.value</th>
      <td><p>Maximum value to be achieved.</p></td>
    </tr>
    <tr>
      <th>progress.bar</th>
      <td><p>Should we display a progression bar on the console? If
<code>FALSE</code>, a temporary message is used.</p></td>
    </tr>
    <tr>
      <th>char</th>
      <td><p>The character to use to fill the progress bar in the console. not
used for the alternate display, or for GUI display of progression.</p></td>
    </tr>
    <tr>
      <th>init</th>
      <td><p>Do we have to initialize the progress bar? It is usually done the
first time the function is used, and the default value <code>init = (value == 0)</code>
is correct most of the time. You must specify <code>init = TRUE</code> in two cases:
(1) if the first value to display is different from zero, and (2) if your
code issues some text on screen during progression display. Hence, you must
force redraw of the progression bar.</p></td>
    </tr>
    <tr>
      <th>console</th>
      <td><p>Do we display progression on the console?</p></td>
    </tr>
    <tr>
      <th>gui</th>
      <td><p>Do we display progression in a dialog box, or any other GUI widget?
See "details" and "examples" hereunder to know how to implement your own GUI
progression indicator.</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>This function returns <code>NULL</code> invisibly. It is invoked for its side
effects.</p>
    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>The function <code>progress()</code> proposes different styles of progression
indicators than the standard <code><a href='https://rdrr.io/r/utils/txtProgressBar.html'>txtProgressBar()</a></code> in package 'utils'.</p>
<p>The function uses backspace (\8) to erase characters at the console.</p>
<p>With <code>gui = TRUE</code>, it looks for all functions defined in the <code>.progress</code> list
located in the <code>SciViews:TempEnv</code> environment. Each function is executed in
turn with following call: <code>the_gui_function(value, max.value)</code>. You are
responsible to create <code>the_gui_function()</code> and to add it as an element in
the <code>.progress</code> list. See also example (5) hereunder.</p>
<p>If your GUI display of the progression offers the possibility to stop
calculation (for instance, using a 'Cancel' button), you are responsible to
pass this info to your code doing the long calculation and to stop it there.
Example (5) shows how to do this.</p>
    <h2 class="hasAnchor" id="see-also"><a class="anchor" href="#see-also"></a>See also</h2>

    <div class='dont-index'><p><code><a href='batch.html'>batch()</a></code>, <code><a href='https://rdrr.io/r/utils/txtProgressBar.html'>txtProgressBar()</a></code></p></div>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='co'># 1) A simple progress indicator in percent</span>
<span class='kw'>for</span> <span class='op'>(</span><span class='va'>i</span> <span class='kw'>in</span> <span class='fl'>0</span><span class='op'>:</span><span class='fl'>101</span><span class='op'>)</span> <span class='op'>{</span>
  <span class='fu'>progress</span><span class='op'>(</span><span class='va'>i</span><span class='op'>)</span>
  <span class='fu'><a href='https://rdrr.io/r/base/Sys.sleep.html'>Sys.sleep</a></span><span class='op'>(</span><span class='fl'>0.01</span><span class='op'>)</span>
  <span class='kw'>if</span> <span class='op'>(</span><span class='va'>i</span> <span class='op'>==</span> <span class='fl'>101</span><span class='op'>)</span> <span class='fu'><a href='https://rdrr.io/r/base/message.html'>message</a></span><span class='op'>(</span><span class='st'>"Done!"</span><span class='op'>)</span>
<span class='op'>}</span>
</div><div class='co'>#&gt; Progress:   0%  Progress:   1%  Progress:   2%  Progress:   3%  Progress:   4%  Progress:   5%  Progress:   6%  Progress:   7%  Progress:   8%  Progress:   9%  Progress:  10%  Progress:  11%  Progress:  12%  Progress:  13%  Progress:  14%  Progress:  15%  Progress:  16%  Progress:  17%  Progress:  18%  Progress:  19%  Progress:  20%  Progress:  21%  Progress:  22%  Progress:  23%  Progress:  24%  Progress:  25%  Progress:  26%  Progress:  27%  Progress:  28%  Progress:  29%  Progress:  30%  Progress:  31%  Progress:  32%  Progress:  33%  Progress:  34%  Progress:  35%  Progress:  36%  Progress:  37%  Progress:  38%  Progress:  39%  Progress:  40%  Progress:  41%  Progress:  42%  Progress:  43%  Progress:  44%  Progress:  45%  Progress:  46%  Progress:  47%  Progress:  48%  Progress:  49%  Progress:  50%  Progress:  51%  Progress:  52%  Progress:  53%  Progress:  54%  Progress:  55%  Progress:  56%  Progress:  57%  Progress:  58%  Progress:  59%  Progress:  60%  Progress:  61%  Progress:  62%  Progress:  63%  Progress:  64%  Progress:  65%  Progress:  66%  Progress:  67%  Progress:  68%  Progress:  69%  Progress:  70%  Progress:  71%  Progress:  72%  Progress:  73%  Progress:  74%  Progress:  75%  Progress:  76%  Progress:  77%  Progress:  78%  Progress:  79%  Progress:  80%  Progress:  81%  Progress:  82%  Progress:  83%  Progress:  84%  Progress:  85%  Progress:  86%  Progress:  87%  Progress:  88%  Progress:  89%  Progress:  90%  Progress:  91%  Progress:  92%  Progress:  93%  Progress:  94%  Progress:  95%  Progress:  96%  Progress:  97%  Progress:  98%  Progress:  99%  Progress: 100%                  </div><div class='co'>#&gt; Done!</div><div class='input'>
<span class='co'># 2) A progress indicator with 'x on y'</span>
<span class='kw'>for</span> <span class='op'>(</span><span class='va'>i</span> <span class='kw'>in</span> <span class='fl'>0</span><span class='op'>:</span><span class='fl'>31</span><span class='op'>)</span> <span class='op'>{</span>
  <span class='fu'>progress</span><span class='op'>(</span><span class='va'>i</span>, <span class='fl'>30</span><span class='op'>)</span>
  <span class='fu'><a href='https://rdrr.io/r/base/Sys.sleep.html'>Sys.sleep</a></span><span class='op'>(</span><span class='fl'>0.02</span><span class='op'>)</span>
  <span class='kw'>if</span> <span class='op'>(</span><span class='va'>i</span> <span class='op'>==</span> <span class='fl'>31</span><span class='op'>)</span> <span class='fu'><a href='https://rdrr.io/r/base/message.html'>message</a></span><span class='op'>(</span><span class='st'>"Done!"</span><span class='op'>)</span>
<span class='op'>}</span>
</div><div class='co'>#&gt; Progress:  0 on 30  Progress:  1 on 30  Progress:  2 on 30  Progress:  3 on 30  Progress:  4 on 30  Progress:  5 on 30  Progress:  6 on 30  Progress:  7 on 30  Progress:  8 on 30  Progress:  9 on 30  Progress: 10 on 30  Progress: 11 on 30  Progress: 12 on 30  Progress: 13 on 30  Progress: 14 on 30  Progress: 15 on 30  Progress: 16 on 30  Progress: 17 on 30  Progress: 18 on 30  Progress: 19 on 30  Progress: 20 on 30  Progress: 21 on 30  Progress: 22 on 30  Progress: 23 on 30  Progress: 24 on 30  Progress: 25 on 30  Progress: 26 on 30  Progress: 27 on 30  Progress: 28 on 30  Progress: 29 on 30  Progress: 30 on 30                      </div><div class='co'>#&gt; Done!</div><div class='input'>
<span class='co'># 3) A progress bar in percent</span>
<span class='kw'>for</span> <span class='op'>(</span><span class='va'>i</span> <span class='kw'>in</span> <span class='fl'>0</span><span class='op'>:</span><span class='fl'>101</span><span class='op'>)</span> <span class='op'>{</span>
  <span class='fu'>progress</span><span class='op'>(</span><span class='va'>i</span>, progress.bar <span class='op'>=</span> <span class='cn'>TRUE</span><span class='op'>)</span>
  <span class='fu'><a href='https://rdrr.io/r/base/Sys.sleep.html'>Sys.sleep</a></span><span class='op'>(</span><span class='fl'>0.01</span><span class='op'>)</span>
  <span class='kw'>if</span> <span class='op'>(</span><span class='va'>i</span> <span class='op'>==</span> <span class='fl'>101</span><span class='op'>)</span> <span class='fu'><a href='https://rdrr.io/r/base/message.html'>message</a></span><span class='op'>(</span><span class='st'>"Done!"</span><span class='op'>)</span>
<span class='op'>}</span>
</div><div class='co'>#&gt;           0%---------25%---------50%---------75%--------100%
#&gt; Progress: ||||||||||||||||||||||||||||||||||||||||||||||||||</div><div class='co'>#&gt; Done!</div><div class='input'>
<span class='co'># 4) A progress indicator with 'x on y'</span>
<span class='kw'>for</span> <span class='op'>(</span><span class='va'>i</span> <span class='kw'>in</span> <span class='fl'>0</span><span class='op'>:</span><span class='fl'>21</span><span class='op'>)</span> <span class='op'>{</span>
  <span class='fu'>progress</span><span class='op'>(</span><span class='va'>i</span>, <span class='fl'>20</span>, progress.bar <span class='op'>=</span> <span class='cn'>TRUE</span><span class='op'>)</span>
  <span class='fu'><a href='https://rdrr.io/r/base/Sys.sleep.html'>Sys.sleep</a></span><span class='op'>(</span><span class='fl'>0.03</span><span class='op'>)</span>
  <span class='kw'>if</span> <span class='op'>(</span><span class='va'>i</span> <span class='op'>==</span> <span class='fl'>21</span><span class='op'>)</span> <span class='fu'><a href='https://rdrr.io/r/base/message.html'>message</a></span><span class='op'>(</span><span class='st'>"Done!"</span><span class='op'>)</span>
<span class='op'>}</span>
</div><div class='co'>#&gt;           0-----------------20
#&gt; Progress: ||||||||||||||||||||</div><div class='co'>#&gt; Done!</div><div class='input'>
<span class='co'># 5) A progression dialog box with Tcl/Tk</span>
<span class='kw'>if</span> <span class='op'>(</span><span class='cn'>FALSE</span><span class='op'>)</span> <span class='op'>{</span>
<span class='kw'>if</span> <span class='op'>(</span><span class='kw'><a href='https://rdrr.io/r/base/library.html'>require</a></span><span class='op'>(</span><span class='va'>tcltk</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>{</span>
  <span class='va'>gui_progress</span> <span class='op'>&lt;-</span> <span class='kw'>function</span><span class='op'>(</span><span class='va'>value</span>, <span class='va'>max.value</span><span class='op'>)</span> <span class='op'>{</span>
    <span class='co'># Do we need to destroy the progression dialog box?</span>
    <span class='kw'>if</span> <span class='op'>(</span><span class='va'>value</span> <span class='op'>&gt;</span> <span class='va'>max.value</span><span class='op'>)</span> <span class='op'>{</span>
      <span class='kw'><a href='https://rdrr.io/r/base/try.html'>try</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/tcltk/TclInterface.html'>tkdestroy</a></span><span class='op'>(</span><span class='fu'><a href='temp_env.html'>get_temp</a></span><span class='op'>(</span><span class='st'>"gui_progress_window"</span><span class='op'>)</span><span class='op'>)</span>, silent <span class='op'>=</span> <span class='cn'>TRUE</span><span class='op'>)</span>
      <span class='fu'><a href='temp_env.html'>delete_temp</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"gui_progress_state"</span>, <span class='st'>"gui_progress_window"</span>,
        <span class='st'>"gui_progress_cancel"</span><span class='op'>)</span><span class='op'>)</span>
      <span class='kw'><a href='https://rdrr.io/r/base/function.html'>return</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/invisible.html'>invisible</a></span><span class='op'>(</span><span class='cn'>FALSE</span><span class='op'>)</span><span class='op'>)</span>
    <span class='op'>}</span> <span class='kw'>else</span> <span class='kw'>if</span> <span class='op'>(</span><span class='fu'><a href='temp_env.html'>exists_temp</a></span><span class='op'>(</span><span class='st'>"gui_progress_window"</span><span class='op'>)</span> <span class='op'>&amp;&amp;</span>
      <span class='op'>!</span><span class='fu'><a href='https://rdrr.io/r/base/class.html'>inherits</a></span><span class='op'>(</span><span class='kw'><a href='https://rdrr.io/r/base/try.html'>try</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/tcltk/TkCommands.html'>tkwm.deiconify</a></span><span class='op'>(</span><span class='va'>tt</span> <span class='op'>&lt;-</span> <span class='fu'><a href='temp_env.html'>get_temp</a></span><span class='op'>(</span><span class='st'>"gui_progress_window"</span><span class='op'>)</span><span class='op'>)</span>,
        silent <span class='op'>=</span> <span class='cn'>TRUE</span><span class='op'>)</span>, <span class='st'>"try-error"</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>{</span>
      <span class='co'># The progression dialog box exists</span>
      <span class='co'># Focus on it and change progress value</span>
      <span class='fu'><a href='https://rdrr.io/r/tcltk/TkCommands.html'>tkfocus</a></span><span class='op'>(</span><span class='va'>tt</span><span class='op'>)</span>
      <span class='va'>state</span> <span class='op'>&lt;-</span> <span class='fu'><a href='temp_env.html'>get_temp</a></span><span class='op'>(</span><span class='st'>"gui_progress_state"</span><span class='op'>)</span>
      <span class='fu'><a href='https://rdrr.io/r/tcltk/TclInterface.html'>tclvalue</a></span><span class='op'>(</span><span class='va'>state</span><span class='op'>)</span> <span class='op'>&lt;-</span> <span class='va'>value</span>
    <span class='op'>}</span> <span class='kw'>else</span> <span class='op'>{</span>
      <span class='co'># The progression dialog box must be (re)created</span>
      <span class='co'># First, make sure there is no remaining "gui_progress_cancel"</span>
      <span class='fu'><a href='temp_env.html'>delete_temp</a></span><span class='op'>(</span><span class='st'>"gui_progress_cancel"</span><span class='op'>)</span>
      <span class='co'># Create a Tcl variable to hold current progression state</span>
      <span class='va'>state</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/tcltk/TclInterface.html'>tclVar</a></span><span class='op'>(</span><span class='va'>value</span><span class='op'>)</span>
      <span class='fu'><a href='temp_env.html'>assign_temp</a></span><span class='op'>(</span><span class='st'>"gui_progress_state"</span>, <span class='va'>state</span><span class='op'>)</span>
      <span class='co'># Create the progression dialog box</span>
      <span class='va'>tt</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/tcltk/TkWidgets.html'>tktoplevel</a></span><span class='op'>(</span><span class='op'>)</span>
      <span class='fu'><a href='temp_env.html'>assign_temp</a></span><span class='op'>(</span><span class='st'>"gui_progress_window"</span>, <span class='va'>tt</span><span class='op'>)</span>
      <span class='fu'><a href='https://rdrr.io/r/tcltk/TkCommands.html'>tktitle</a></span><span class='op'>(</span><span class='va'>tt</span><span class='op'>)</span> <span class='op'>&lt;-</span> <span class='st'>"Waiting..."</span>
      <span class='va'>sc</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/tcltk/TkWidgets.html'>tkscale</a></span><span class='op'>(</span><span class='va'>tt</span>, orient <span class='op'>=</span> <span class='st'>"h"</span>, state <span class='op'>=</span> <span class='st'>"disabled"</span>, to <span class='op'>=</span> <span class='va'>max.value</span>,
        label <span class='op'>=</span> <span class='st'>"Progress:"</span>, length <span class='op'>=</span> <span class='fl'>200</span>, variable <span class='op'>=</span> <span class='va'>state</span><span class='op'>)</span>
      <span class='fu'><a href='https://rdrr.io/r/tcltk/TkCommands.html'>tkpack</a></span><span class='op'>(</span><span class='va'>sc</span><span class='op'>)</span>
      <span class='va'>but</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/tcltk/TkWidgets.html'>tkbutton</a></span><span class='op'>(</span><span class='va'>tt</span>, text <span class='op'>=</span> <span class='st'>"Cancel"</span>, command <span class='op'>=</span> <span class='kw'>function</span><span class='op'>(</span><span class='op'>)</span> <span class='op'>{</span>
        <span class='co'># Set a flag telling to stop running calculation</span>
        <span class='fu'><a href='temp_env.html'>assign_temp</a></span><span class='op'>(</span><span class='st'>"gui_progress_cancel"</span>, <span class='cn'>TRUE</span><span class='op'>)</span> <span class='co'># Content is not important!</span>
        <span class='fu'><a href='https://rdrr.io/r/tcltk/TclInterface.html'>tkdestroy</a></span><span class='op'>(</span><span class='va'>tt</span><span class='op'>)</span>
      <span class='op'>}</span><span class='op'>)</span>
      <span class='fu'><a href='https://rdrr.io/r/tcltk/TkCommands.html'>tkpack</a></span><span class='op'>(</span><span class='va'>but</span><span class='op'>)</span>
    <span class='op'>}</span>
    <span class='fu'><a href='https://rdrr.io/r/base/invisible.html'>invisible</a></span><span class='op'>(</span><span class='cn'>TRUE</span><span class='op'>)</span>
  <span class='op'>}</span>
  <span class='co'># Register it as function to use in progress()</span>
  <span class='fu'><a href='temp_env.html'>change_temp</a></span><span class='op'>(</span><span class='st'>".progress"</span>, <span class='st'>"gui_progress"</span>, <span class='va'>gui_progress</span>,
    replace.existing <span class='op'>=</span> <span class='cn'>TRUE</span><span class='op'>)</span>
  <span class='fu'><a href='https://rdrr.io/r/base/rm.html'>rm</a></span><span class='op'>(</span><span class='va'>gui_progress</span><span class='op'>)</span> <span class='co'># Don't need this any more</span>
  <span class='co'># Test it...</span>
  <span class='kw'>for</span> <span class='op'>(</span><span class='va'>i</span> <span class='kw'>in</span> <span class='fl'>0</span><span class='op'>:</span><span class='fl'>101</span><span class='op'>)</span> <span class='op'>{</span>
    <span class='fu'>progress</span><span class='op'>(</span><span class='va'>i</span><span class='op'>)</span> <span class='co'># Could also set console = FALSE for using the GUI only</span>
    <span class='fu'><a href='https://rdrr.io/r/base/Sys.sleep.html'>Sys.sleep</a></span><span class='op'>(</span><span class='fl'>0.05</span><span class='op'>)</span>
    <span class='co'># The code to stop long calc when user presses "Cancel"</span>
    <span class='kw'>if</span> <span class='op'>(</span><span class='fu'><a href='temp_env.html'>exists_temp</a></span><span class='op'>(</span><span class='st'>"gui_progress_cancel"</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>{</span>
      <span class='fu'>progress</span><span class='op'>(</span><span class='fl'>101</span>, console <span class='op'>=</span> <span class='cn'>FALSE</span><span class='op'>)</span> <span class='co'># Make sure to clean up everything</span>
      <span class='kw'>break</span>
    <span class='op'>}</span>
    <span class='kw'>if</span> <span class='op'>(</span><span class='va'>i</span> <span class='op'>==</span> <span class='fl'>101</span><span class='op'>)</span> <span class='fu'><a href='https://rdrr.io/r/base/message.html'>message</a></span><span class='op'>(</span><span class='st'>"Done!"</span><span class='op'>)</span>
  <span class='op'>}</span>
  <span class='co'># Unregister the GUI for progress</span>
  <span class='fu'><a href='temp_env.html'>change_temp</a></span><span class='op'>(</span><span class='st'>".progress"</span>, <span class='st'>"gui_progress"</span>, <span class='cn'>NULL</span><span class='op'>)</span>
<span class='op'>}</span>
<span class='op'>}</span>
</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <!-- footer -->
<!--<footer class="bg-secondary">-->
<div class="bg-secondary full-width">
    <div class="py-100 border-bottom" style="border-color: #454547 !important">
        <div class="container">
            <div class="row">
                <div class="col-lg-4 col-md-4">
                    <div class="mb-5 mb-md-0 text-center text-md-left">
                        <!-- logo -->
                        <img class="mb-30" src="https://www.sciviews.org/images/logo-footer.png" alt="logo">
                        <p class="text-white mb-30"> We build software for reproducible research with R</p>
                        <!-- social icon -->
                        <ul class="list-inline">

                            <li class="list-inline-item">
                                <a class="social-icon-outline" href="https://github.com/SciViews">
                                    <i class="ti-github"></i>
                                </a>
                            </li>

                            <li class="list-inline-item">
                                <a class="social-icon-outline" href="https://twitter.com/PhilGrosjean">
                                    <i class="ti-twitter-alt"></i>
                                </a>
                            </li>

                            <li class="list-inline-item">
                                <a class="social-icon-outline" href="https://www.linkedin.com/in/philippe-grosjean-5b6b29a2/">
                                    <i class="ti-linkedin"></i>
                                </a>
                            </li>

                        </ul>
                    </div>
                </div>
                <!-- footer links -->
                <div class="col-lg-2 col-md-4 col-6">
                    <p class="h4 text-white mb-4">Related</p>
                    <ul class="footer-links">

                        <li>
                            <a href="http://econum.umons.ac.be">Our Lab</a>
                        </li>

                        <li>
                            <a href="https://web.umons.ac.be/fs/en/">Our Faculty</a>
                        </li>

                        <li>
                            <a href="https://web.umons.ac.be/complexys/en/">Complexys</a>
                        </li>

                        <li>
                            <a href="https://web.umons.ac.be/infortech/en/">InforTech</a>
                        </li>

                        <li>
                            <a href="https://web.umons.ac.be/en/">UMONS</a>
                        </li>

                    </ul>
                </div>
                <!-- footer links -->
                <div class="col-lg-2 col-md-4 col-6">
                    <p class="h4 text-white mb-4">Quick Link</p>
                    <ul class="footer-links">

                        <li>
                            <a href="https://www.sciviews.org/software/svbox">SciViews Box</a>
                        </li>

                        <li>
                            <a href="https://www.sciviews.org/software/sciviews-r">SciViews::R</a>
                        </li>

                        <li>
                            <a href="https://www.sciviews.org/software/zooimage">Zoo/PhytoImage</a>
                        </li>

                        <li>
                            <a href="https://www.sciviews.org/blog">Blog</a>
                        </li>

                        <li>
                            <a href="https://www.sciviews.org/about">About</a>
                        </li>

                    </ul>
                </div>
                <!-- subscribe form -->
                <div class="col-lg-3 col-md-12 offset-lg-1">
                    <div class="mt-5 mt-lg-0 text-center text-md-left">
                             <p class="h4 mb-4 text-white">Contact Us</p>
                             <p class="text-white mb-4">Need more info?<br/><a href="mailto:info@sciviews.org"><span class="text-primary">Leave us a mail...</span></a></p>

                    </div>
                </div>
            </div>
        </div>
    </div>
    <!-- copyright -->
    <div class="pt-4 pb-3 position-relative">
        <div class="container">
            <div class="row">
                <div class="col-lg-6 col-md-5">
                    <p class="text-white text-center text-md-left">
                        <span class="text-primary">SciViews</span> &copy; All Right Reserved</p>
                </div>
                <div class="col-lg-6 col-md-7">
                    <ul class="list-inline text-center text-md-right">

                        <li class="list-inline-item mx-lg-3 my-lg-0 mx-2 my-2">
                            <a class="font-secondary text-white" href="https://creativecommons.org/licenses/by/4.0/">Site content under CC-BY 4.0 license</a>
                        </li>

                    </ul>
                </div>
            </div>
        </div>
        <!-- back to top -->
        <!--<button class="back-to-top">
            <i class="ti-angle-up"></i>
        </button>-->
    </div>
</div>
<!--</footer>-->
<!-- /footer -->

      </footer>
   </div>

  


  

  </body>
</html>


